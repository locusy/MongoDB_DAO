{"remainingRequest":"/Users/tianzz/Desktop/nodejs/node聊天系统/exercise/node_modules/babel-loader/lib/index.js!/Users/tianzz/Desktop/nodejs/node聊天系统/exercise/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tianzz/Desktop/nodejs/node聊天系统/exercise/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tianzz/Desktop/nodejs/node聊天系统/exercise/src/components/Student.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tianzz/Desktop/nodejs/node聊天系统/exercise/src/components/Student.vue","mtime":1561366132071},{"path":"/Users/tianzz/Desktop/nodejs/node聊天系统/exercise/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tianzz/Desktop/nodejs/node聊天系统/exercise/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tianzz/Desktop/nodejs/node聊天系统/exercise/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tianzz/Desktop/nodejs/node聊天系统/exercise/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* eslint-disable */\nexport default {\n  name: 'Student',\n  data: function data() {\n    return {\n      totalCourse: [{\n        value: \"地理\",\n        id: 1\n      }, {\n        value: \"数学\",\n        id: 2\n      }, {\n        value: \"物理\",\n        id: 3\n      }, {\n        value: \"化学\",\n        id: 4\n      }],\n      tableData: [],\n      currItem: {},\n      dialogFormVisible: false,\n      currentModelType: '',\n      form: {\n        sid: 0,\n        name: '',\n        age: '',\n        sex: '',\n        courses: []\n      },\n      formLabelWidth: '120px'\n    };\n  },\n  methods: {\n    openModel: function openModel(type, item) {\n      this.dialogFormVisible = true;\n      this.currentModelType = type;\n\n      if (type === 'create') {\n        this.form = {\n          name: '',\n          age: '',\n          sex: '',\n          courses: []\n        };\n      } else {\n        this.currItem = item;\n        this.queryStudent(item);\n      }\n    },\n    handleSubmit: function handleSubmit() {\n      this.dialogFormVisible = false;\n\n      if (this.currentModelType === 'create') {\n        this.addStudent();\n      }\n\n      if (this.currentModelType === 'edit') {\n        this.editStudent();\n      }\n    },\n    addStudent: function addStudent() {\n      console.log(this.form);\n\n      var _this = this;\n\n      this.$axios.get('http://localhost:2000/add?name=' + this.form.name + '&sid=' + this.form.sid + '&age=' + this.form.age + '&sex=' + this.form.sex + '&courses=' + this.form.courses).then(function (res) {\n        _this.$message('添加成功');\n\n        _this.getAllStudent();\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    queryStudent: function queryStudent(item) {\n      var _this = this;\n\n      this.$axios.get('http://localhost:2000/query?sid=' + item.sid).then(function (res) {\n        console.log(res, 'query');\n        _this.form = res.data;\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    editStudent: function editStudent() {\n      var _this = this;\n\n      this.$axios.get('http://localhost:2000/edit?name=' + this.form.name + '&sid=' + this.form.sid + '&age=' + this.form.age + '&sex=' + this.form.sex + '&courses=' + this.form.courses, params).then(function (res) {\n        _this.$message('修改成功');\n\n        _this.getAllStudent();\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    handleDelete: function handleDelete(item) {\n      var _this = this;\n\n      this.$axios.post('http://localhost:2000/remove?sid=' + item.sid).then(function (res) {\n        _this.$message('删除成功');\n\n        _this.getAllStudent();\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    getAllStudent: function getAllStudent() {\n      var _this = this;\n\n      this.$axios.get('http://localhost:2000/getall').then(function (res) {\n        console.log(res);\n        _this.tableData = res.data;\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.getAllStudent();\n  }\n};",{"version":3,"sources":["Student.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"student\">\n    <el-button type=\"text\" @click=\"openModel('create')\">添加学生</el-button>\n    <el-table\n      :data=\"tableData\"\n      border\n      center>\n      <el-table-column\n        prop=\"sid\"\n        label=\"sid\">\n      </el-table-column>\n      <el-table-column\n        prop=\"name\"\n        label=\"姓名\">\n      </el-table-column>\n      <el-table-column\n        prop=\"age\"\n        label=\"年龄\">\n      </el-table-column>\n      <el-table-column\n        prop=\"sex\"\n        label=\"性别\">\n      </el-table-column>\n      <el-table-column\n        prop=\"courses\"\n        label=\"所选课程\">\n        <template slot-scope=\"scope\">\n          <el-select v-model=\"scope.row.courses\" multiple placeholder=\"请选择\">\n            <el-option\n              v-for=\"item in totalCourse\"\n              :key=\"item.id\"\n              :label=\"item.value\"\n              :value=\"item.id\">\n            </el-option>\n          </el-select>\n        </template>>\n      </el-table-column>\n      <el-table-column\n        label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" @click=\"openModel('edit', scope.row)\" size=\"small\">编辑</el-button>\n          <el-button type=\"text\" @click=\"handleDelete(scope.row)\" size=\"small\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-dialog title=\"学生\" :visible.sync=\"dialogFormVisible\">\n      <el-form>\n        <el-form-item label=\"sid\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"form.sid\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"姓名\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"form.name\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"年龄\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"form.age\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"性别\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"form.sex\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"所选课程\" :label-width=\"formLabelWidth\">\n          <el-select v-model=\"form.courses\" multiple placeholder=\"请选择\">\n            <el-option\n              v-for=\"item in totalCourse\"\n              :key=\"item.id\"\n              :label=\"item.value\"\n              :value=\"item.id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"handleSubmit\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\nexport default {\n  name: 'Student',\n  data() {\n    return {\n      totalCourse: [{\n        value: \"地理\",\n        id: 1\n      },{\n        value: \"数学\",\n        id: 2\n      },{\n        value: \"物理\",\n        id: 3\n      },{\n        value: \"化学\",\n        id: 4\n      }],\n      tableData: [],\n      currItem: {},\n      dialogFormVisible: false,\n      currentModelType: '',\n      form: {\n        sid: 0,\n        name: '',\n        age: '',\n        sex: '',\n        courses: []\n      },\n      formLabelWidth: '120px'\n    }\n  },\n  methods: {\n    openModel: function(type, item) {\n      this.dialogFormVisible = true\n      this.currentModelType = type\n      if(type === 'create') {\n        this.form = {\n          name: '',\n          age: '',\n          sex: '',\n          courses: []\n        }\n      } else {\n        this.currItem = item\n        this.queryStudent(item)\n      }\n    },\n    handleSubmit: function () {\n      this.dialogFormVisible = false\n      if(this.currentModelType === 'create') {\n        this.addStudent()\n      } \n      if(this.currentModelType === 'edit') {\n        this.editStudent()\n      }\n    },\n    addStudent: function() {\n      console.log(this.form)\n      let _this = this\n      this.$axios.get('http://localhost:2000/add?name=' + this.form.name + '&sid=' + this.form.sid + '&age=' + this.form.age + '&sex=' + this.form.sex + '&courses=' + this.form.courses)\n      .then(function(res) {\n        _this.$message('添加成功')\n        _this.getAllStudent()\n      })\n      .catch(function(err) {\n        console.log(err)\n      })\n    },\n    queryStudent(item) {\n      let _this = this\n      this.$axios.get('http://localhost:2000/query?sid=' + item.sid)\n      .then(function(res) {\n        console.log(res, 'query')\n        _this.form = res.data\n      })\n      .catch(function(err) {\n        console.log(err)\n      })\n    },\n    editStudent: function() {\n      let _this = this\n      this.$axios.get('http://localhost:2000/edit?name=' + this.form.name + '&sid=' + this.form.sid + '&age=' + this.form.age + '&sex=' + this.form.sex + '&courses=' + this.form.courses, params)\n      .then(function(res) {\n        _this.$message('修改成功')\n        _this.getAllStudent()\n      })\n      .catch(function(err) {\n        console.log(err)\n      })\n    },\n    handleDelete: function(item) {\n      let _this = this\n      this.$axios.post('http://localhost:2000/remove?sid=' + item.sid)\n      .then(function(res) {\n        _this.$message('删除成功')\n        _this.getAllStudent()\n      })\n      .catch(function(err) {\n        console.log(err)\n      })\n    },\n    getAllStudent() {\n      let _this = this\n      this.$axios.get('http://localhost:2000/getall')\n      .then(res => {\n        console.log(res)\n        _this.tableData = res.data\n      })\n      .catch(err => {\n        console.log(err)\n      })\n    },\n  },\n  mounted() {\n    this.getAllStudent()\n  }\n}\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":"src/components"}]}